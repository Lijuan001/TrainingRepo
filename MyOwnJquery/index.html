<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script>
        class Pquery{
            constructor(selector){
                if(selector === window || selector === document){
                    this.elements = [selector];
                }else{
                    this.elements = document.querySelectorAll(selector);
                }
                console.log(this.elements);
            }

            ready(callbackfunc){
                /* callbackfunc(); */
                console.log("ready");
                this.elements.forEach(ele=>{
                    ele.addEventListener("DOMContentLoaded",()=>{callbackfunc()});
                });

                return this;
            }


            click(cb){
                this.elements.forEach(ele=>{
                    ele.addEventListener("click",()=>{
                        cb.call(this);
                        });

                });
                
                return this;
            }

            hide(){
                this.elements.forEach(ele=>{
                    ele.style.display='none';
                });
                
                return this;
            }

        }

        var $ = (selector)=>new Pquery(selector);

    </script>

    <script>
        $(document) .ready(function(){
        $("p").click(function(){
           this.hide();
        });
        }); 
    </script>
 </head>

    <body>
    
    <p>If you click on me, I will disappear.</p>
    <p>Click me away!</p>
    <p>Click me too!</p>
    
</body>
</html>